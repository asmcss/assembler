!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).Opis=e.Opis||{},e.Opis.Assembler={}))}(this,(function(e){"use strict";const t=/^[0-9]+(\.5)?$/,r=/^-?[0-9]+(\.5)?$/,o=/^(xs|sm|base|lg|([2-9])?xl)$/,i=/^(none|tight|snug|normal|relaxed|loose)$/,a=/^[0-9]|1[0-9]|2[0-4]$/,n=/^(tighter|tight|normal|wide|wider|widest)$/,p=/^(xs|sm|md|lg|xl)$/,s=/^(first|last|none)$/,l=["align-content","align-items","align-self","animation","appearance","backdrop-filter","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-position","background-repeat","background-size","backface-visibility","border","border-bottom","border-bottom-color","border-bottom-style","border-bottom-width","border-bottom-left-radius","border-bottom-right-radius","border-collapse","border-color","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-style","border-top","border-top-color","border-top-style","border-top-width","border-top-left-radius","border-top-right-radius","border-width","bottom","box-shadow","box-sizing","clear","color","column-gap","content","cursor","display","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","font-family","font-size","font-style","font-weight","font-variant-numeric","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","height","justify-content","justify-items","justify-self","left","letter-spacing","line-height","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","max-height","max-width","min-height","min-width","object-fit","object-position","opacity","order","outline","outline-offset","overflow","overflow-wrap","overflow-x","overflow-y","overscroll-behavior","overscroll-behavior-x","overscroll-behavior-y","padding","padding-bottom","padding-left","padding-right","padding-top","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","resize","right","row-gap","table-layout","text-align","text-decoration","text-decoration-style","text-fill-color","text-overflow","text-shadow","text-transform","top","transform","transform-box","transform-origin","transform-style","transition","user-select","vertical-align","visibility","white-space","width","word-break","z-index","-opis-grid","-opis-space-x","-opis-space-y","-opis-space-top","-opis-space-bottom","-opis-space-left","-opis-space-right","-opis-background-clip-text","-opis-sr-only","-opis-not-sr-only","-opis-stack","-opis-placeholder-color","-opis-placeholder-font","-opis-placeholder-size","-opis-placeholder-style","-opis-placeholder-weight"],c={animation:["-webkit-animation"],appearance:["-webkit-appearance","-moz-appearance"],"background-clip":["-webkit-background-clip","-moz-background-clip"],"backdrop-filter":["-webkit-backdrop-filter"],"column-gap":["-moz-column-gap"],"user-select":["-webkit-user-select","-moz-user-select"],"text-fill-color":["-webkit-text-fill-color","-moz-text-fill-color"]},x=["normal","link","visited","empty","placeholder-shown","default","checked","indeterminate","valid","invalid","required","optional","out-of-range","in-range","hover","focus","focus-within","focus-visible","active","read-only","read-write","disabled","enabled"],d=["all","xs","sm","md","lg","xl"],m={backdrop:"backdrop-filter",bg:"background","bg-attachment":"background-attachment","bg-blend":"background-blend-mode","bg-clip":"background-clip","bg-color":"background-color","bg-image":"background-image","bg-position":"background-position","bg-repeat":"background-repeat","bg-size":"background-size",radius:"border-radius","radius-top":["border-top-left-radius","border-top-right-radius"],"radius-bottom":["border-bottom-left-radius","border-bottom-right-radius"],"radius-left":["border-bottom-left-radius","border-top-left-radius"],"radius-right":["border-bottom-right-radius","border-top-right-radius"],"radius-bl":"border-bottom-left-radius","radius-br":"border-bottom-right-radius","radius-tl":"border-top-left-radius","radius-tr":"border-top-right-radius",b:"border",bt:"border-top",bl:"border-left",br:"border-right",bb:"border-bottom",m:"margin",mt:"margin-top",mb:"margin-bottom",ml:"margin-left",mr:"margin-right",mx:["margin-left","margin-right"],my:["margin-top","margin-bottom"],p:"padding",pt:"padding-top",pb:"padding-bottom",pl:"padding-left",pr:"padding-right",px:["padding-left","padding-right"],py:["padding-top","padding-bottom"],"min-w":"min-width","max-w":"max-width","min-h":"min-height","max-h":"max-height",w:"width",h:"height",gradient:"background-image","radial-gradient":"background-image","conic-gradient":"background-image","flex-dir":"flex-direction","grid-rows":"grid-template-rows","grid-flow":"grid-auto-flow","row-start":"grid-row-start","row-span":"grid-row-end","grid-cols":"grid-template-columns","col-start":"grid-column-start","col-span":"grid-column-end","col-gap":"column-gap","auto-cols":"grid-auto-columns","auto-rows":"grid-auto-rows",e:"box-shadow",overscroll:"overscroll-behavior","overscroll-x":"overscroll-behavior-x","overscroll-y":"overscroll-behavior-y",inset:["top","bottom","left","right"],"inset-x":["left","right"],"inset-y":["top","bottom"],z:"z-index",decoration:"text-decoration","v-align":"vertical-align",ws:"whitespace",ring:"box-shadow",leading:"line-height",tracking:"letter-spacing",break:e=>"words"===e?["overflow-wrap"]:"all"===e?["word-break"]:["overflow-wrap","word-break"],truncate:["overflow","text-overflow","white-space"],"text-clip":["-opis-background-clip-text","text-fill-color"],"space-x":"-opis-space-left","space-y":"-opis-space-top","space-x-rev":"-opis-space-right","space-y-rev":"-opis-space-bottom","space-x-alt":"-opis-space-y","space-y-alt":"-opis-space-y","sr-only":e=>"false"===e?"-opis-not-sr-only":"-opis-sr-only",stack:"-opis-stack",flex:e=>e?"flex":"display","inline-flex":"display",grid:"-opis-grid","inline-grid":"display",hidden:"display",block:"display","inline-block":"display",static:"position",fixed:"position",absolute:"position",relative:"position",sticky:"position",visible:"visibility",invisible:"visibility","flex-row":"flex-direction","flex-col":"flex-direction",list:e=>"inside"===e||"outside"===e?"list-style-position":"list-style-type",text:e=>o.test(e)?["font-size","line-height"]:"font-size",uppercase:"text-transform",lowercase:"text-transform",capitalize:"text-transform","normal-case":"text-transform",variant:"font-variant-numeric",placeholder:"-opis-placeholder-color","placeholder-font":"-opis-placeholder-font","placeholder-size":"-opis-placeholder-size","placeholder-style":"-opis-placeholder-style","placeholder-weight":"-opis-placeholder-weight"},g={border:["1px solid transparent"],truncate:["hidden","ellipsis","nowrap"],"text-clip":["text","transparent"],flex:"flex","inline-flex":"inline-flex","inline-grid":"inline-grid",hidden:"none",block:"block","inline-block":"inline-block",static:"static",fixed:"fixed",absolute:"absolute",relative:"relative",sticky:"sticky",visible:"visible",invisible:"hidden","flex-row":"row","flex-col":"column","flex-wrap":"wrap","flex-grow":"1","flex-shrink":"1",uppercase:"uppercase",lowercase:"lowercase",capitalize:"capitalize","normal-case":"none"},u=e=>r.test(e)?`calc(${e} * @unit-size)`:e,f=e=>t.test(e)?`calc(${e} * @unit-size)`:e,b=e=>`repeat(${e}, minmax(0, 1fr))`,h=e=>`span ${e}`,y=e=>p.test(e)?"@border-radius-"+e:e,w={gradient:e=>`linear-gradient(${e})`,"radial-gradient":e=>`radial-gradient(${e})`,"conic-gradient":e=>`conic-gradient(${e})`,"grid-rows":b,"row-span":h,"grid-cols":b,"col-span":h,e:e=>a.test(e)?`@elevation-${e}`:e,ring:e=>`0 0 0 ${e}`,"font-size":e=>o.test(e)?"@font-size-"+e:e,leading:e=>t.test(e)?`calc(${e} * @unit-size)`:i.test(e)?"@line-height-"+e:e,tracking:e=>n.test(e)?"@letter-spacing-"+e:e,text:e=>o.test(e)?["@font-size-"+e,"@font-size-leading-"+e]:e,radius:y,"radius-top":y,"radius-left":y,"radius-bottom":y,"radius-right":y,"radius-tl":y,"radius-bl":y,"radius-tr":y,"radius-br":y,break:e=>"all"===e?"break-all":"words"===e?"break-word":["normal","normal"],grid:()=>"grid","flex-wrap":e=>"reverse"===e?"wrap-reverse":e,"flex-row":e=>"reverse"===e?"row-reverse":e,"flex-col":e=>"reverse"===e?"column-reverse":e,order:e=>s.test(e)?"first"===e?"-9999":"last"===e?"9999":"0":e,padding:f,"padding-top":f,"padding-bottom":f,"padding-left":f,"padding-right":f,p:f,pt:f,pb:f,pl:f,pr:f,px:f,py:f,margin:u,"margin-top":u,"margin-bottom":u,"margin-left":u,"margin-right":u,m:u,mt:u,mb:u,ml:u,mr:u,mx:u,my:u},v=["0px 0px 0px 0px","0px 2px 1px -1px","0px 3px 1px -2px","0px 3px 3px -2px","0px 2px 4px -1px","0px 3px 5px -1px","0px 3px 5px -1px","0px 4px 5px -2px","0px 5px 5px -3px","0px 5px 6px -3px","0px 6px 6px -3px","0px 6px 7px -4px","0px 7px 8px -4px","0px 7px 8px -4px","0px 7px 9px -4px","0px 8px 9px -5px","0px 8px 10px -5px","0px 8px 11px -5px","0px 9px 11px -5px","0px 9px 12px -6px","0px 10px 13px -6px","0px 10px 13px -6px","0px 10px 14px -6px","0px 11px 14px -7px","0px 11px 15px -7px"],$=["0px 0px 0px 0px","0px 1px 1px 0px","0px 2px 2px 0px","0px 3px 4px 0px","0px 4px 5px 0px","0px 5px 8px 0px","0px 6px 10px 0px","0px 7px 10px 1px","0px 8px 10px 1px","0px 9px 12px 1px","0px 10px 14px 1px","0px 11px 15px 1px","0px 12px 17px 2px","0px 13px 19px 2px","0px 14px 21px 2px","0px 15px 22px 2px","0px 16px 24px 2px","0px 17px 26px 2px","0px 18px 28px 2px","0px 19px 29px 2px","0px 20px 31px 3px","0px 21px 33px 3px","0px 22px 35px 3px","0px 23px 36px 3px","0px 24px 38px 3px"],k=["0px 0px 0px 0px","0px 1px 3px 0px","0px 1px 5px 0px","0px 1px 8px 0px","0px 1px 10px 0px","0px 1px 14px 0px","0px 1px 18px 0px","0px 2px 16px 1px","0px 3px 14px 2px","0px 3px 16px 2px","0px 4px 18px 3px","0px 4px 20px 3px","0px 5px 22px 4px","0px 5px 24px 4px","0px 5px 26px 4px","0px 6px 28px 5px","0px 6px 30px 5px","0px 6px 32px 5px","0px 7px 34px 6px","0px 7px 36px 6px","0px 8px 38px 7px","0px 8px 40px 7px","0px 8px 42px 7px","0px 9px 44px 8px","0px 9px 46px 8px"],S={none:"0",xs:"0.125rem",sm:"0.25rem",md:"0.5rem",lg:"0.75rem",xl:"1rem"},z={tighter:"-0.05rem",tight:"-0.025rem",normal:"0",wide:"0.025rem",wider:"0.05rem",widest:"0.1rem"},O={none:"1",tight:"1.25",snug:"1.375",normal:"1.5",relaxed:"1.625",loose:"2"},A={xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"},j={xs:"1rem",sm:"1.25rem",base:"1.5rem",lg:"1.75rem",xl:"1.75rem","2xl":"2rem","3xl":"2.25rem","4xl":"2.5rem","5xl":"1","6xl":"1","7xl":"1","8xl":"1","9xl":"1"},C={"sans-serif":"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol",serif:"Georgia, Cambria, Times New Roman, Times, serif",monospace:"Lucida Console, Monaco, monospace"};function P(){let e="--elevation-umbra: rgba(0, 0, 0, .2);--elevation-penumbra: rgba(0, 0, 0, .14);--elevation-ambient: rgba(0, 0, 0, .12);";for(let t=0;t<25;t++)e+=`--elevation-${t}:${v[t]} var(--elevation-umbra), ${$[t]} var(--elevation-penumbra), ${k[t]} var(--elevation-ambient);`;for(const[t,r]of Object.entries(S))e+=`--border-radius-${t}:${r};`;for(const[t,r]of Object.entries(z))e+=`--letter-spacing-${t}:${r};`;for(const[t,r]of Object.entries(O))e+=`--line-height-${t}:${r};`;for(const[t,r]of Object.entries(C))e+=`--${t}:${r};`;for(const[t,r]of Object.entries(A))e+=`--font-size-${t}:${r};`;for(const[t,r]of Object.entries(j))e+=`--font-size-leading-${t}:${r};`;return e+="--unit-size:0.25rem;",":root{"+e+"}"}const M=/([a-z0-9]|(?=[A-Z]))([A-Z])/g,I="--x-";function K(...e){let t=[];for(const r of e)if("string"==typeof r)t.push(r.trim());else if(Array.isArray(r))t.push(K(...r));else for(const e in r){const o=r[e];if(void 0===o)continue;const i=e.replace(M,"$1-$2").toLowerCase();null===o?t.push(i):t.push(i+":"+o)}return t.join("; ")}function E(e,t=!0){const r=e.replace(/[,;]/g," ").split(/\s\s*/g).map((e=>e.trim())).filter((e=>""!==e));return t?r.filter(((e,t,r)=>r.indexOf(e)===t)):r}const L={"-opis-grid":(e,t)=>""!==t?[]:[`.x\\#${e}{display:var(${I+e}) !important}`,`.x\\#${e} > * {word-break: break-all !important}`,`.x\\#${e} > * > * {max-width: 100% !important}`,`.x\\#${e} > .x\\#${e}{justify-self: normal !important;align-self: normal !important}`],"-opis-space-x":(e,t)=>[`.x\\#${e}${t} > * {margin-left:var(${I+e}) !important; margin-right:var(${I+e}) !important}`],"-opis-space-y":(e,t)=>[`.x\\#${e}${t} > * {margin-top:var(${I+e}) !important; margin-bottom:var(${I+e}) !important}`],"-opis-space-left":(e,t)=>[`.x\\#${e}${t} > * + * {margin-left:var(${I+e}) !important}`],"-opis-space-right":(e,t)=>[`.x\\#${e}${t} > * + * {margin-right:var(${I+e}) !important}`],"-opis-space-top":(e,t)=>[`.x\\#${e}${t} > * + * {margin-top:var(${I+e}) !important}`],"-opis-space-bottom":(e,t)=>[`.x\\#${e}${t} > * + * {margin-bottom:var(${I+e}) !important}`],"-opis-background-clip-text":(e,t)=>[`.x\\#${e}${t}{-webkit-background-clip: text !important;-moz-background-clip:text !important;background-clip:text !important}`],"-opis-sr-only":(e,t)=>{if(""!==t)return[];const r="position: absolute !important;\n            width: 1px !important;\n            height: 1px !important;\n            padding: 0 !important;\n            margin: -1px !important;\n            overflow: hidden !important;\n            clip: rect(0, 0, 0, 0) !important;\n            white-space: nowrap !important;\n            border-width: 0 !important;";return[`.x\\#${e}{${r}}`,`.x\\#${e}:focus{${r}}`]},"-opis-not-sr-only":(e,t)=>{if(""!==t)return[];const r="position: static !important;\n            width: auto !important;\n            height: auto !important;\n            padding: 0 !important;\n            margin: 0 !important;\n            overflow: visible !important;\n            clip: auto !important;\n            white-space: normal !important;";return[`.x\\#${e}{${r}}`,`.x\\#${e}:focus{${r}}`]},"-opis-stack":(e,t)=>{if(""!==t)return[];const r=[`.x\\#${e}{display:grid;grid-template-columns:minmax(0,1fr);\n        grid-template-rows:minmax(0,1fr);grid-template-areas:"stackarea";width:100%;height:100%}`,`.x\\#${e} > * {grid-area:stackarea}`];for(let t=1;t<=10;t++)r.push(`.x\\#${e} > *:nth-child(${t}){z-index: ${t} !important}`);return r},"-opis-placeholder-color":(e,t)=>[`.x\\#${e}${t}::placeholder{color:var(${I+e})}`],"-opis-placeholder-font":(e,t)=>[`.x\\#${e}${t}::placeholder{font-family:var(${I+e})}`],"-opis-placeholder-size":(e,t)=>[`.x\\#${e}${t}::placeholder{font-size:var(${I+e})}`],"-opis-placeholder-style":(e,t)=>[`.x\\#${e}${t}::placeholder{font-style:var(${I+e})}`],"-opis-placeholder-weight":(e,t)=>[`.x\\#${e}${t}::placeholder{font-weight:var(${I+e})}`]};function N(e,t){let r=null;if(e.cache){if(r=localStorage.getItem(e.cacheKey+":"+e.cache),null!==r)return r;const t=localStorage.getItem(e.cacheKey);null!==t&&localStorage.removeItem(e.cacheKey+":"+t),localStorage.setItem(e.cacheKey,e.cache)}else{const t=localStorage.getItem(e.cacheKey);null!==t&&(localStorage.removeItem(e.cacheKey+":"+t),localStorage.removeItem(e.cacheKey))}const o=x.length,i=[],a=e.breakpoints.enabled,n=e.breakpoints.settings,p="desktop-first"===e.breakpoints.mode,s=e.states.enabled;i.push(P());for(const e of a){const r=d.indexOf(e);if(r<0)continue;let a="";0!==r&&(a+=p?`@media only screen and (max-width: ${n[e]}) {`:`@media only screen and (min-width: ${n[e]}) {`);for(let e=0,i=l.length;e<i;e++){const i=l[e],n=0===r?x:s;for(const p of n){const n=x.indexOf(p);if(n<0)continue;const s=((e*o+r)*o+n).toString(16);t.set(s,!0);let l=c[i],d="";if(l)for(let e=0,t=l.length;e<t;e++)d+=`${l[e]}:var(--x-${s}) !important;`;i.startsWith("-opis-")?a+=L[i](s,n>0?":"+p:"").join(""):a+=`.x\\#${s}${n>0?":"+p:""}{${d}${i}:var(--x-${s}) !important}`}}0!==r&&(a+="}"),i.push(a)}return r=i.join(""),e.cache&&(localStorage.setItem(e.cacheKey,e.cache),localStorage.setItem(e.cacheKey+":"+e.cache,r)),r}const R=new class{constructor(){this.styles=null,this.cache=new Map}getComputedStyle(){return null===this.styles&&(this.styles=window.getComputedStyle(document.documentElement)),this.styles}getPropertyValue(e){if(this.cache.has(e))return this.cache.get(e);const t=e;e="--"+e;let r=this.getComputedStyle().getPropertyValue(e).trim();return r.startsWith('"')&&r.endsWith('"')&&(r=r.substring(1,r.length-1).trim()),this.cache.set(t,r),r}},V=new Map;function T(e){if(null==e||""===e)return null;const t=[];for(const{name:r,args:o}of function*(e){for(let t of e.split(";")){if(t=t.trim(),""===t)continue;const e=t.indexOf(":");if(-1===e)yield{name:t,args:[]};else{const r=t.substr(0,e),o=t.substr(e+1).split(W).map((e=>e.trim()));yield{name:r,args:o}}}}(e))if(V.has(r)){const e=V.get(r);t.push(e(...o))}return K(t)}V.set("mixin",(function(...e){return e.map((e=>R.getPropertyValue(e+"--mixin"))).filter((e=>""!==e)).join(";")}));const W=/\s*,\s*(?![^(]*\))/gm;const U="x-apply",Z="x-style";let _=null,B=null;const F=new WeakMap;function H(e,t){if(F.has(e))return;F.set(e,null);const r=e.attributes.getNamedItem(Z),o=e.attributes.getNamedItem(U);let i="";o&&(i=T(o.value),""!==i&&(F.set(e,i),i+=";")),r&&(i+=r.value),""!==i&&t.handleStyleChange(e,null,i),function(e,t){null===B&&(B=new MutationObserver((function(e){for(const r of e){const e=r.target,o=e.getAttribute(r.attributeName);switch(r.attributeName){case Z:q(t,e,r.oldValue,o);break;case U:X(t,e,o)}}}))),B.observe(e,{attributes:!0,attributeOldValue:!0,childList:!0,attributeFilter:[Z,U]})}(e,t);for(let r=e.firstElementChild;null!=r;r=r.nextElementSibling)H(r,t)}function X(e,t,r){let o=F.get(t)||null;if(null!=r&&(r=T(r)),F.set(t,r),t.hasAttribute(Z)){const e=t.getAttribute(Z);null==o?o=e:o+=";"+e,null==r?r=e:r+=";"+e}e.handleStyleChange(t,o,r)}function q(e,t,r,o){const i=F.get(t)||null;null!=i&&(r=null==r?i:i+";"+r,o=null==o?i:i+";"+o),e.handleStyleChange(t,r,o)}const G=/@([a-zA-Z0-9\-_]+)/g,D=/\$(selector|class|value|property|state)/g,J=/^(?:(?<media>[a-z]{2})\|)?(?:(?<scope>[-a-z]+)!)?(?<property>[-a-z]+)(?:\.(?<state>[-a-z]+))?$/m;class Q{constructor(e,t,r){this.style=t,this.settings=e,this.tracker=r,this.mediaSettings=e.breakpoints.settings,this.desktopMode="desktop-first"===e.breakpoints.mode}handleStyleChange(e,t,r){if(null===r)return this.handleStyleRemoved(e,t);const o=this.getStyleEntries(r),i=e.hasAttribute("class")?e.getAttribute("class").split(" "):[];if(null!==t)for(const{name:r,property:a,entry:n}of this.getStyleProperties(t))if(!o.has(r)){const t=i.indexOf(n);t>=0&&i.splice(t,1),e.style.removeProperty(a)}for(const t of o.values()){const{entry:r,property:o,hash:a,value:n}=t;i.indexOf(r)<0&&i.push(r),this.tracker.has(a)||this.generateCSS(t),e.style.setProperty(o,n)}e.setAttribute("class",i.join(" "))}handleStyleRemoved(e,t){const r=e.hasAttribute("class")?e.getAttribute("class").split(" "):[];for(const{property:o,entry:i}of this.getStyleProperties(t)){const t=r.indexOf(i);t>=0&&r.splice(t,1),e.style.removeProperty(o)}e.setAttribute("class",r.join(" "))}extract(e,t=null){var r;const o=null===(r=J.exec(e))||void 0===r?void 0:r.groups;if(!o||!o.property)return[];const i=d.indexOf(o.media||"all"),a=x.indexOf(o.state||"normal");if(i<0||a<0)return[];let n=o.property;const p=n;m.hasOwnProperty(n)&&(n=m[n],"function"==typeof n&&(n=n(t))),Array.isArray(n)||(n=[n]),null===t&&(t=g[p]||""),w.hasOwnProperty(p)&&(t=w[p](t,p,i,a)),t=Array.isArray(t)?t.map((e=>e.replace(G,"var(--$1)"))):Array(n.length).fill(t.replace(G,"var(--$1)"));const s=[],c=x.length;let u=-1;for(const e of n){u++;const r=l.indexOf(e);if(r<0)continue;const n=o.scope||"",p=((r*c+i)*c+a).toString(16)+(n?`-${n}`:"");s.push({name:(o.media?o.media+"|":"")+(n?n+"!":"")+e+(o.state?"."+o.state:""),property:I+p,entry:"x#"+p,value:t[u],media:o.media||"",state:o.state||"",cssProperty:e,hash:p,scope:n})}return s}getStyleEntries(e,t=!0){const r=new Map;for(let o of e.split(";")){if(o=o.trim(),""===o)continue;let e=null;const i=o.indexOf(":");i<0?o=o.trim():(e=t?o.substr(i+1):null,o=o.substr(0,i).trim());for(const t of this.extract(o,e))r.set(t.name,t)}return r}*getStyleProperties(e){var t;const r=x.length;for(let o of e.split(";")){let e=null;const i=o.indexOf(":");i<0?o=o.trim():(e=o.substr(i+1),o=o.substr(0,i).trim());const a=null===(t=J.exec(o))||void 0===t?void 0:t.groups;if(!a||!a.property)continue;const n=d.indexOf(a.media||"all"),p=x.indexOf(a.state||"normal");if(n<0||p<0)continue;let s=a.property;m.hasOwnProperty(s)&&(s=m[s],"function"==typeof s&&(s=s(e))),Array.isArray(s)||(s=[s]);for(const e of s){const t=l.indexOf(e);if(t<0)continue;const o=((t*r+n)*r+p).toString(16);yield{name:(a.media?a.media+"|":"")+e+(a.state?"."+a.state:""),property:I+o,entry:"x#"+o}}}}generateCSS(e){const{tracker:t,mediaSettings:r,desktopMode:o,style:i}=this,{hash:a,media:n,state:p,cssProperty:s,property:l,scope:x}=e,d=""!==n;t.set(a,!0);let m="";d&&(m+=o?`@media only screen and (max-width: ${r[n]}) {`:`@media only screen and (min-width: ${r[n]}) {`);let g=c[s],u="";if(g)for(let e=0,t=g.length;e<t;e++)u+=`${g[e]}:var(${l}) !important;`;if(s.startsWith("-opis-")){const e=L[s](a,""!==p?":"+p:"");for(let t=0;t<e.length;t++){let r=m+e[t];d&&(r+="}"),i.insertRule(r)}}else{if(x){const e=R.getPropertyValue(x+"--scope");if(""===e)return;m+=e.replace(D,((e,t)=>{switch(t){case"selector":return`.x\\#${a}${p?":"+p:""}`;case"property":return s;case"value":return`var(${l})`;case"class":return`.x\\${a}`;case"state":return p?":"+p:""}return t}))}else m+=`.x\\#${a}${p?":"+p:""}{${u}${s}: var(${l}) !important}`;d&&(m+="}"),i.insertRule(m)}}}function Y(e){const t=function(e){const t=void 0===e.enabled||"true"===e.enabled,r=void 0===e.generate||"true"===e.generate,o=void 0===e.constructable||"true"===e.constructable,i=e.mode||"desktop-first",a="desktop-first"===i,n=void 0===e.cache?null:e.cache,p=void 0===e.cacheKey?"opis-assembler-cache":e.cacheKey;let s=["xs","sm","md","lg","xl"];if(a?(s.pop(),s.reverse()):s.shift(),e.breakpoints){const t=E(e.breakpoints.toLowerCase());s=t.length?s.filter((e=>-1!==t.indexOf(e))):[]}s.unshift("all");const l=void 0===e.states?["normal","hover"]:E(e.states.toLowerCase());return-1===l.indexOf("normal")&&l.unshift("normal"),{enabled:t,generate:r,constructable:o,cache:n,cacheKey:p,breakpoints:{mode:i,settings:{xs:e.breakpointXs||"512px",sm:e.breakpointSm||(a?"768px":"512px"),md:e.breakpointMd||(a?"1024px":"768px"),lg:e.breakpointLg||(a?"1280px":"1024px"),xl:e.breakpointXl||"1280px"},enabled:s},states:{enabled:l}}}(e||document.currentScript.dataset);if(!t.enabled)return!1;const r=new Map;let o;if(t.constructable&&document.adoptedStyleSheets)o=new CSSStyleSheet,t.generate?o.replaceSync(N(t,r)):o.replaceSync(P()),document.adoptedStyleSheets=[o];else{const e=document.createElement("style");e.id="opis-assembler-css",e.textContent=N(t,r),document.currentScript.parentElement.insertBefore(e,document.currentScript),o=e.sheet}return function(e,t){null===_&&(_=new MutationObserver((function(e){for(let r=0,o=e.length;r<o;r++){const o=e[r].addedNodes;for(let e=0;e<o.length;e++)o[e]instanceof HTMLElement&&H(o[e],t)}}))),_.observe(e,{childList:!0,subtree:!0})}(document,new Q(t,o,r)),!0}"undefined"!=typeof window&&Y(),e.init=Y,e.registerMixin=function(e,t){V.set(e,t)},e.style=K,Object.defineProperty(e,"__esModule",{value:!0})}));
