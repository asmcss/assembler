!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).Opis=t.Opis||{},t.Opis.Assembler={}))}(this,(function(t){"use strict";const e=["align-content","align-items","align-self","animation","appearance","backdrop-filter","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-position","background-repeat","background-size","border","border-bottom","border-bottom-left-radius","border-bottom-right-radius","border-collapse","border-left","border-radius","border-right","border-top","border-top-left-radius","border-top-right-radius","bottom","box-shadow","box-sizing","clear","color","column-gap","cursor","display","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","font-family","font-size","font-style","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","height","justify-content","justify-items","justify-self","left","letter-spacing","line-height","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","max-height","max-width","min-height","min-width","object-fit","object-position","opacity","order","outline","outline-offset","overflow","overflow-wrap","overflow-x","overflow-y","overscroll-behavior","overscroll-behavior-x","overscroll-behavior-y","padding","padding-bottom","padding-left","padding-right","padding-top","place-content","place-items","place-self","pointer-events","position","resize","right","row-gap","table-layout","text-align","text-decoration","text-decoration-style","text-fill-color","text-overflow","text-transform","top","transform","transform-box","transform-origin","transform-style","transition","user-select","vertical-align","visibility","white-space","width","word-break","z-index"],r={animation:["-webkit-animation"],appearance:["-webkit-appearance","-moz-appearance"],"backdrop-filter":["-webkit-backdrop-filter"],"column-gap":["-moz-column-gap"],"user-select":["-webkit-user-select","-moz-user-select"]},o={backdrop:"backdrop-filter",bg:"background","bg-attachment":"background-attachment","bg-blend":"background-blend-mode","bg-clip":"background-clip","bg-color":"background-color","bg-image":"background-image","bg-position":"background-position","bg-repeat":"background-repeat","bg-size":"background-size",radius:"border-radius","radius-top":["border-top-left-radius","border-top-right-radius"],"radius-bottom":["border-bottom-left-radius","border-bottom-right-radius"],"radius-left":["border-bottom-left-radius","border-top-left-radius"],"radius-right":["border-bottom-right-radius","border-top-right-radius"],"radius-bl":"border-bottom-left-radius","radius-br":"border-bottom-right-radius","radius-tl":"border-top-left-radius","radius-tr":"border-top-right-radius",m:"margin",mt:"margin-top",mb:"margin-bottom",ml:"margin-left",mr:"margin-right",mx:["margin-left","margin-right"],my:["margin-top","margin-bottom"],p:"padding",pt:"padding-top",pb:"padding-bottom",pl:"padding-left",pr:"padding-right",px:["padding-left","padding-right"],py:["padding-top","padding-bottom"],"min-w":"min-width","max-w":"max-width","min-h":"min-height","max-h":"max-height",w:"width",h:"height",gradient:"background-image","radial-gradient":"background-image","conic-gradient":"background-image","flex-dir":"flex-direction","grid-rows":"grid-template-rows","grid-flow":"grid-auto-flow","row-start":"grid-row-start","row-span":"grid-row-end","grid-cols":"grid-template-columns","col-start":"grid-column-start","col-span":"grid-column-end","col-gap":"column-gap","auto-cols":"grid-auto-columns","auto-rows":"grid-auto-rows",e:"box-shadow",overscroll:"overscroll-behavior","overscroll-x":"overscroll-behavior-x","overscroll-y":"overscroll-behavior-y",inset:["top","bottom","left","right"],"inset-x":["left","right"],"inset-y":["top","bottom"],z:"z-index",decoration:"text-decoration","v-align":"vertical-align",ws:"whitespace",ring:"box-shadow",leading:"line-height",tracking:"letter-spacing"},i=["normal","link","visited","empty","placeholder-shown","default","checked","indeterminate","valid","invalid","required","optional","out-of-range","in-range","hover","focus","focus-within","focus-visible","active","read-only","read-write","disabled","enabled"],n=["all","xs","sm","md","lg","xl"],a=t=>`repeat(${t}, minmax(0, 1fr))`,l=t=>`span ${t}`,s=t=>/^(xs|sm|md|lg|xl)$/.test(t)?"@border-radius-"+t:t,d={gradient:t=>`linear-gradient(${t})`,"radial-gradient":t=>`radial-gradient(${t})`,"conic-gradient":t=>`conic-gradient(${t})`,"grid-rows":a,"row-span":l,"grid-cols":a,"col-span":l,e:t=>/^[0-9]|1[0-9]|2[0-4]$/.test(t)?`@elevation-${t}`:t,ring:t=>`0 0 0 ${t}`,"font-size":t=>/^(xs|sm|base|lg|([2-6])?xl)$/.test(t)?"@font-size-"+t:t,leading:t=>/^(none|tight|snug|normal|relaxed|loose)$/.test(t)?"@line-height-"+t:t,tracking:t=>/^(tighter|tight|normal|wide|wider|widest)$/.test(t)?"@letter-spacing-"+t:t,radius:s,"radius-top":s,"radius-left":s,"radius-bottom":s,"radius-right":s,"radius-tl":s,"radius-bl":s,"radius-tr":s,"radius-br":s},c="_opis",g="--opis-",u=/@([a-zA-Z0-9\-_]+)/g,p=/^(?:(?<media>[a-z]{2})\|)?(?<property>[-a-z]+)(?:\.(?<state>[-a-z]+))?$/m,f="x-style";function m(t,e,r){if(null===r)return function(t,e){for(const{property:r}of x(e))t.style.removeProperty(r);t.removeAttribute(c)}(t,e);const o=h(r);if(null!==e)for(const{name:r,property:i}of x(e))o.has(r)||t.style.removeProperty(i);const i=[];for(const{property:e,entry:r,value:n}of o.values())i.push(r),t.style.setProperty(e,n);t.setAttribute(c,i.join(" "))}function b(t,r=null){var a;const l=null===(a=p.exec(t))||void 0===a?void 0:a.groups;if(!l||!l.property)return[];const s=n.indexOf(l.media||"all"),c=i.indexOf(l.state||"normal");if(s<0||c<0)return[];let f=l.property;const m=f;o.hasOwnProperty(f)&&(f=o[f]),Array.isArray(f)||(f=[f]),null!==r&&(d.hasOwnProperty(m)&&(r=d[m](r,m,s,c)),r=r.replace(u,"var(--$1)"));const b=[],h=i.length;for(const t of f){const o=e.indexOf(t);if(o<0)continue;const i=((o*h+s)*h+c).toString(16);b.push({name:(l.media?l.media+"|":"")+t+(l.state?"."+l.state:""),property:g+i,entry:"x"+i,value:r})}return b}function h(t,e=!0){const r=new Map,o=t.split(";");for(let t of o){if(t.indexOf(":")<0)continue;const o=t.split(":");t=o.shift().trim();const i=e?o.join(":"):null;for(const e of b(t,i))r.set(e.name,e)}return r}function*x(t){var r;const a=i.length;for(let l of t.split(";")){const t=l.indexOf(":");if(t<0)continue;l=l.substr(0,t).trim();const s=null===(r=p.exec(l))||void 0===r?void 0:r.groups;if(!s||!s.property)continue;const d=n.indexOf(s.media||"all"),c=i.indexOf(s.state||"normal");if(d<0||c<0)continue;let u=s.property;o.hasOwnProperty(u)&&(u=o[u]),Array.isArray(u)||(u=[u]);for(const t of u){const r=e.indexOf(t);if(r<0)continue;const o=((r*a+d)*a+c).toString(16);yield{name:(s.media?s.media+"|":"")+t+(s.state?"."+s.state:""),property:g+o}}}}const w="opis-assembler-cache";function y(t,e=!0){const r=t.replace(/[,;]/g," ").split(/\s\s*/g).map((t=>t.trim())).filter((t=>""!==t));return e?r.filter(((t,e,r)=>r.indexOf(t)===e)):r}let v=null,k=null;const O=new WeakMap;function $(t,e=!0){if(e)for(let e=t.firstElementChild;null!=e;e=e.nextElementSibling)$(e,!0);if(O.has(t))return;O.set(t,null);const r=t.attributes.getNamedItem(f);r&&m(t,null,r.value),function(t,e){null===k&&(k=new MutationObserver((function(t){for(const e of t){if(e.attributeName!==f)continue;const t=e.target,r=t.getAttribute(e.attributeName);m(t,e.oldValue,r)}}))),k.observe(t,e)}(t,{attributes:!0,attributeOldValue:!0,attributeFilter:[f]})}function z(t){const o=function(t){const e=void 0===t.enabled||"true"===t.enabled,r=t.mode||"desktop-first",o="desktop-first"===r,i=void 0===t.cache?null:t.cache;let n=["xs","sm","md","lg","xl"];if(o?(n.pop(),n.reverse()):n.shift(),t.breakpoints){const e=y(t.breakpoints.toLowerCase());n=e.length?n.filter((t=>-1!==e.indexOf(t))):[]}n.unshift("all");const a=void 0===t.states?["normal","hover","focus","active","disabled"]:y(t.states.toLowerCase());return{enabled:e,cache:i,breakpoints:{mode:r,settings:{xs:t.breakpointXs||(o?"512px":"0px"),sm:t.breakpointSm||(o?"768px":"512px"),md:t.breakpointMd||(o?"1024px":"768px"),lg:t.breakpointLg||(o?"1280px":"1024"),xl:t.breakpointXl||"1280px"},enabled:n},states:{enabled:a}}}(t||document.currentScript.dataset);if(!o.enabled)return!1;const a=document.createElement("style");return a.textContent=function(t){let o=null;if(t.cache){if(o=localStorage.getItem(w+":"+t.cache),null!==o)return o;const e=localStorage.getItem(w);null!==e&&localStorage.removeItem(w+":"+e),localStorage.setItem(w,t.cache)}else{const t=localStorage.getItem(w);null!==t&&(localStorage.removeItem(w+":"+t),localStorage.removeItem(w))}const a=i.length,l=[],s=t.breakpoints.enabled,d=t.breakpoints.settings,c="desktop-first"===t.breakpoints.mode,g=t.states.enabled;for(const t of s){const o=n.indexOf(t);if(o<0)continue;let s="";0!==o&&(s+=c?`@media only screen and (max-width: ${d[t]}) {`:`@media only screen and (min-width: ${d[t]}) {`);for(let t=0,n=e.length;t<n;t++){const n=e[t];for(const e of g){const l=i.indexOf(e);if(l<0)continue;const d=((t*a+o)*a+l).toString(16);let c=r[n],g="";if(c)for(let t=0,e=c.length;t<e;t++)g+=`${c[t]}:var(--opis-${d}) !important;`;s+=`[_opis~=x${d}]${l>0?":"+e:""}{${g}${n}:var(--opis-${d}) !important}`}}0!==o&&(s+="}"),l.push(s)}return o=l.join(""),t.cache&&(localStorage.setItem(w,t.cache),localStorage.setItem(w+":"+t.cache,o)),o}(o),document.currentScript.parentElement.insertBefore(a,document.currentScript),function(t,e){null===v&&(v=new MutationObserver((function(t){for(let e=0,r=t.length;e<r;e++){const r=t[e].addedNodes;for(let t=0;t<r.length;t++)r[t]instanceof HTMLElement&&$(r[t])}}))),v.observe(t,e)}(document,{childList:!0,subtree:!0}),!0}"undefined"!=typeof window&&z(),t.extract=b,t.init=z,t.parse=h,t.style=function t(...e){let r="";for(const o of e)if("string"==typeof o)r+=o.trim()+";";else if(Array.isArray(o))r+=t(...o)+";";else for(const t in o)o.hasOwnProperty(t)&&(r+=t+": "+o[t]+";");return r},Object.defineProperty(t,"__esModule",{value:!0})}));
