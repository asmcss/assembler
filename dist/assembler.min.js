!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).Opis=e.Opis||{},e.Opis.Assembler={}))}(this,(function(e){"use strict";const t=/^[0-9]+(\.5)?$/,r=/^-?[0-9]+(\.5)?$/,o=/^(xs|sm|base|lg|([2-9])?xl)$/,i=/^(none|tight|snug|normal|relaxed|loose)$/,n=/^[0-9]|1[0-9]|2[0-4]$/,s=/^(tighter|tight|normal|wide|wider|widest)$/,a=/^(xs|sm|md|lg|xl)$/,l=/^(first|last|none)$/,p=["align-content","align-items","align-self","animation","appearance","backdrop-filter","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-position","background-repeat","background-size","backface-visibility","border","border-bottom","border-bottom-color","border-bottom-style","border-bottom-width","border-bottom-left-radius","border-bottom-right-radius","border-collapse","border-color","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-style","border-top","border-top-color","border-top-style","border-top-width","border-top-left-radius","border-top-right-radius","border-width","bottom","box-shadow","box-sizing","clear","clip","clip-path","color","column-gap","content","cursor","display","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","font-family","font-size","font-style","font-weight","font-variant-numeric","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","height","justify-content","justify-items","justify-self","left","letter-spacing","line-height","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","max-height","max-width","min-height","min-width","object-fit","object-position","opacity","order","outline","outline-offset","overflow","overflow-wrap","overflow-x","overflow-y","overscroll-behavior","overscroll-behavior-x","overscroll-behavior-y","padding","padding-bottom","padding-left","padding-right","padding-top","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","resize","right","row-gap","table-layout","text-align","text-decoration","text-decoration-style","text-fill-color","text-overflow","text-shadow","text-transform","top","transform","transform-box","transform-origin","transform-style","transition","user-select","vertical-align","visibility","white-space","width","word-break","z-index"],c={animation:["-webkit-animation"],appearance:["-webkit-appearance","-moz-appearance"],"background-clip":["-webkit-background-clip","-moz-background-clip"],"backdrop-filter":["-webkit-backdrop-filter"],"column-gap":["-moz-column-gap"],"user-select":["-webkit-user-select","-moz-user-select"],"text-fill-color":["-webkit-text-fill-color","-moz-text-fill-color"]},d=["normal","link","visited","empty","placeholder-shown","default","checked","indeterminate","valid","invalid","required","optional","out-of-range","in-range","hover","focus","focus-within","focus-visible","active","read-only","read-write","disabled","enabled"],x=["all","xs","sm","md","lg","xl"],m={backdrop:"backdrop-filter",bg:"background","bg-attachment":"background-attachment","bg-blend":"background-blend-mode","bg-clip":"background-clip","bg-color":"background-color","bg-image":"background-image","bg-position":"background-position","bg-repeat":"background-repeat","bg-size":"background-size",radius:"border-radius","radius-top":["border-top-left-radius","border-top-right-radius"],"radius-bottom":["border-bottom-left-radius","border-bottom-right-radius"],"radius-left":["border-bottom-left-radius","border-top-left-radius"],"radius-right":["border-bottom-right-radius","border-top-right-radius"],"radius-bl":"border-bottom-left-radius","radius-br":"border-bottom-right-radius","radius-tl":"border-top-left-radius","radius-tr":"border-top-right-radius",b:"border",bt:"border-top",bl:"border-left",br:"border-right",bb:"border-bottom",m:"margin",mt:"margin-top",mb:"margin-bottom",ml:"margin-left",mr:"margin-right",mx:["margin-left","margin-right"],my:["margin-top","margin-bottom"],p:"padding",pt:"padding-top",pb:"padding-bottom",pl:"padding-left",pr:"padding-right",px:["padding-left","padding-right"],py:["padding-top","padding-bottom"],"min-w":"min-width","max-w":"max-width","min-h":"min-height","max-h":"max-height",w:"width",h:"height",img:"background-image",gradient:"background-image","radial-gradient":"background-image","conic-gradient":"background-image","flex-dir":"flex-direction","grid-rows":"grid-template-rows","grid-flow":"grid-auto-flow","row-start":"grid-row-start","row-span":"grid-row-end","grid-cols":"grid-template-columns","col-start":"grid-column-start","col-span":"grid-column-end","col-gap":"column-gap","auto-cols":"grid-auto-columns","auto-rows":"grid-auto-rows",e:"box-shadow",overscroll:"overscroll-behavior","overscroll-x":"overscroll-behavior-x","overscroll-y":"overscroll-behavior-y",inset:["top","bottom","left","right"],"inset-x":["left","right"],"inset-y":["top","bottom"],z:"z-index",decoration:"text-decoration","v-align":"vertical-align",ws:"white-space",ring:"box-shadow",leading:"line-height",tracking:"letter-spacing",break:e=>"words"===e?["overflow-wrap"]:"all"===e?["word-break"]:["overflow-wrap","word-break"],truncate:["overflow","text-overflow","white-space"],flex:e=>e?"flex":"display","inline-flex":"display",grid:"display","inline-grid":"display",hidden:"display",block:"display","inline-block":"display",static:"position",fixed:"position",absolute:"position",relative:"position",sticky:"position",visible:"visibility",invisible:"visibility","flex-row":"flex-direction","flex-col":"flex-direction",list:e=>"inside"===e||"outside"===e?"list-style-position":"list-style-type",text:e=>o.test(e)?["font-size","line-height"]:"font-size",uppercase:"text-transform",lowercase:"text-transform",capitalize:"text-transform","normal-case":"text-transform",variant:"font-variant-numeric"},u={border:["1px solid transparent"],truncate:["hidden","ellipsis","nowrap"],flex:"flex","inline-flex":"inline-flex",grid:"grid","inline-grid":"inline-grid",hidden:"none",block:"block","inline-block":"inline-block",static:"static",fixed:"fixed",absolute:"absolute",relative:"relative",sticky:"sticky",visible:"visible",invisible:"hidden","flex-row":"row","flex-col":"column","flex-wrap":"wrap","flex-grow":"1","flex-shrink":"1",uppercase:"uppercase",lowercase:"lowercase",capitalize:"capitalize","normal-case":"none",radius:"sm"},g=e=>r.test(e)?`calc(${e} * @unit-size)`:e,f=e=>t.test(e)?`calc(${e} * @unit-size)`:e,b=e=>`repeat(${e}, minmax(0, 1fr))`,h=e=>`span ${e}`,y=e=>a.test(e)?"@border-radius-"+e:e,w={img:e=>`url(${e})`,gradient:e=>`linear-gradient(${e})`,"radial-gradient":e=>`radial-gradient(${e})`,"conic-gradient":e=>`conic-gradient(${e})`,"grid-rows":b,"row-span":h,"grid-cols":b,"col-span":h,e:e=>n.test(e)?`@elevation-${e}`:e,ring:e=>`0 0 0 ${e}`,"font-size":e=>o.test(e)?"@font-size-"+e:e,leading:e=>t.test(e)?`calc(${e} * @unit-size)`:i.test(e)?"@line-height-"+e:e,tracking:e=>s.test(e)?"@letter-spacing-"+e:e,text:e=>o.test(e)?["@font-size-"+e,"@font-size-leading-"+e]:e,radius:y,"radius-top":y,"radius-left":y,"radius-bottom":y,"radius-right":y,"radius-tl":y,"radius-bl":y,"radius-tr":y,"radius-br":y,break:e=>"all"===e?"break-all":"words"===e?"break-word":["normal","normal"],"flex-wrap":e=>"reverse"===e?"wrap-reverse":e,"flex-row":e=>"reverse"===e?"row-reverse":e,"flex-col":e=>"reverse"===e?"column-reverse":e,order:e=>l.test(e)?"first"===e?"-9999":"last"===e?"9999":"0":e,padding:f,"padding-top":f,"padding-bottom":f,"padding-left":f,"padding-right":f,p:f,pt:f,pb:f,pl:f,pr:f,px:f,py:f,margin:g,"margin-top":g,"margin-bottom":g,"margin-left":g,"margin-right":g,m:g,mt:g,mb:g,ml:g,mr:g,mx:g,my:g,w:f,h:f,width:f,height:f,"min-w":f,"max-w":f,"min-h":f,"max-h":f,"min-width":f,"max-width":f,"min-height":f,"max-height":f},v=["0px 0px 0px 0px","0px 2px 1px -1px","0px 3px 1px -2px","0px 3px 3px -2px","0px 2px 4px -1px","0px 3px 5px -1px","0px 3px 5px -1px","0px 4px 5px -2px","0px 5px 5px -3px","0px 5px 6px -3px","0px 6px 6px -3px","0px 6px 7px -4px","0px 7px 8px -4px","0px 7px 8px -4px","0px 7px 9px -4px","0px 8px 9px -5px","0px 8px 10px -5px","0px 8px 11px -5px","0px 9px 11px -5px","0px 9px 12px -6px","0px 10px 13px -6px","0px 10px 13px -6px","0px 10px 14px -6px","0px 11px 14px -7px","0px 11px 15px -7px"],$=["0px 0px 0px 0px","0px 1px 1px 0px","0px 2px 2px 0px","0px 3px 4px 0px","0px 4px 5px 0px","0px 5px 8px 0px","0px 6px 10px 0px","0px 7px 10px 1px","0px 8px 10px 1px","0px 9px 12px 1px","0px 10px 14px 1px","0px 11px 15px 1px","0px 12px 17px 2px","0px 13px 19px 2px","0px 14px 21px 2px","0px 15px 22px 2px","0px 16px 24px 2px","0px 17px 26px 2px","0px 18px 28px 2px","0px 19px 29px 2px","0px 20px 31px 3px","0px 21px 33px 3px","0px 22px 35px 3px","0px 23px 36px 3px","0px 24px 38px 3px"],k=["0px 0px 0px 0px","0px 1px 3px 0px","0px 1px 5px 0px","0px 1px 8px 0px","0px 1px 10px 0px","0px 1px 14px 0px","0px 1px 18px 0px","0px 2px 16px 1px","0px 3px 14px 2px","0px 3px 16px 2px","0px 4px 18px 3px","0px 4px 20px 3px","0px 5px 22px 4px","0px 5px 24px 4px","0px 5px 26px 4px","0px 6px 28px 5px","0px 6px 30px 5px","0px 6px 32px 5px","0px 7px 34px 6px","0px 7px 36px 6px","0px 8px 38px 7px","0px 8px 40px 7px","0px 8px 42px 7px","0px 9px 44px 8px","0px 9px 46px 8px"],S={none:"0",xs:"0.125rem",sm:"0.25rem",md:"0.5rem",lg:"0.75rem",xl:"1rem"},O={tighter:"-0.05rem",tight:"-0.025rem",normal:"0",wide:"0.025rem",wider:"0.05rem",widest:"0.1rem"},z={none:"1",tight:"1.25",snug:"1.375",normal:"1.5",relaxed:"1.625",loose:"2"},A={xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"},j={xs:"1rem",sm:"1.25rem",base:"1.5rem",lg:"1.75rem",xl:"1.75rem","2xl":"2rem","3xl":"2.25rem","4xl":"2.5rem","5xl":"1","6xl":"1","7xl":"1","8xl":"1","9xl":"1"},C={"sans-serif":"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol",serif:"Georgia, Cambria, Times New Roman, Times, serif",monospace:"Lucida Console, Monaco, monospace"};function I(){let e="--elevation-umbra: rgba(0, 0, 0, .2);--elevation-penumbra: rgba(0, 0, 0, .14);--elevation-ambient: rgba(0, 0, 0, .12);";for(let t=0;t<25;t++)e+=`--elevation-${t}:${v[t]} var(--elevation-umbra), ${$[t]} var(--elevation-penumbra), ${k[t]} var(--elevation-ambient);`;for(const[t,r]of Object.entries(S))e+=`--border-radius-${t}:${r};`;for(const[t,r]of Object.entries(O))e+=`--letter-spacing-${t}:${r};`;for(const[t,r]of Object.entries(z))e+=`--line-height-${t}:${r};`;for(const[t,r]of Object.entries(C))e+=`--${t}:${r};`;for(const[t,r]of Object.entries(A))e+=`--font-size-${t}:${r};`;for(const[t,r]of Object.entries(j))e+=`--font-size-leading-${t}:${r};`;return e+="--unit-size:0.25rem;",":root{"+e+"}"}const M=/([a-z0-9]|(?=[A-Z]))([A-Z])/g,P="--x-",K=/^(?:(?<media>[a-z]{2})\|)?(?:(?<scope>[-a-zA-Z0-9]+)!)?(?<property>[-a-z]+)(?:\.(?<state>[-a-z]+))?$/m;function*E(e){var t;const r=d.length;for(let o of e.split(";")){let e=null;const i=o.indexOf(":");i<0?o=o.trim():(e=o.substr(i+1),o=o.substr(0,i).trim());const n=null===(t=K.exec(o))||void 0===t?void 0:t.groups;if(!n||!n.property)continue;const s=x.indexOf(n.media||"all"),a=d.indexOf(n.state||"normal");if(s<0||a<0)continue;let l=n.property;m.hasOwnProperty(l)&&(l=m[l],"function"==typeof l&&(l=l(e))),Array.isArray(l)||(l=[l]);for(const e of l){const t=p.indexOf(e);if(t<0)continue;const o=n.scope||"",i=((t*r+s)*r+a).toString(16)+(o?`-${o}`:"");yield{name:(n.media?n.media+"|":"")+(o?o+"!":"")+e+(n.state?"."+n.state:""),property:P+i,entry:"x#"+i}}}}function N(...e){let t=[];for(const r of e)if("string"==typeof r)t.push(r.trim());else if(Array.isArray(r))t.push(N(...r));else for(const e in r){const o=r[e];if(void 0===o)continue;const i=e.replace(M,"$1-$2").toLowerCase();null===o?t.push(i):t.push(i+":"+o)}return t.join("; ")}function L(e,t=!0){const r=e.replace(/[,;]/g," ").split(/\s\s*/g).map((e=>e.trim())).filter((e=>""!==e));return t?r.filter(((e,t,r)=>r.indexOf(e)===t)):r}function R(e){if(e.cache){const t=localStorage.getItem(e.cacheKey+":"+e.cache);if(null!==t){const e=JSON.parse(t);return e.tracker=new Set(e.tracker),e}const r=localStorage.getItem(e.cacheKey);null!==r&&localStorage.removeItem(e.cacheKey+":"+r),localStorage.setItem(e.cacheKey,e.cache)}else{const t=localStorage.getItem(e.cacheKey);null!==t&&(localStorage.removeItem(e.cacheKey+":"+t),localStorage.removeItem(e.cacheKey))}const t=d.length,r=[],o=e.breakpoints.enabled,i=e.breakpoints.settings,n="desktop-first"===e.breakpoints.mode,s=e.states.enabled,a=new Set;r.push(I());for(const e of o){const o=x.indexOf(e);if(o<0)continue;let l="";0!==o&&(l+=n?`@media only screen and (max-width: ${i[e]}) {`:`@media only screen and (min-width: ${i[e]}) {`);for(let e=0,r=p.length;e<r;e++){const r=p[e],i=0===o?d:s;for(const n of i){const i=d.indexOf(n);if(i<0)continue;const s=((e*t+o)*t+i).toString(16);a.add(s);let p=c[r],x="";if(p)for(let e=0,t=p.length;e<t;e++)x+=`${p[e]}:var(--x-${s}) !important;`;l+=`.x\\#${s}${i>0?":"+n:""}{${x}${r}:var(--x-${s}) !important}`}}0!==o&&(l+="}"),r.push(l)}const l={content:r.join(""),tracker:a};return e.cache&&(localStorage.setItem(e.cacheKey,e.cache),localStorage.setItem(e.cacheKey+":"+e.cache,JSON.stringify({content:l.content,tracker:[...a]}))),l}const V=new class{constructor(){this.styles=null,this.cache=new Map;const{cache:e}=this;e.set("text-clip--scope","$selector {-webkit-background-clip: text !important;-moz-background-clip:text !important;background-clip:text !important;$body}"),e.set("l1--scope","$selector > * {$body}"),e.set("l2--scope","$selector > * > * {$body}"),e.set("sibling--scope","$selector > * + * {$body}"),e.set("child--scope","$selector > $class {$body}"),e.set("selection--scope","$selector::selection {$body}"),e.set("placeholder--scope","$selector::placeholder {$body}"),e.set("before--scope","$selector::before {$body}"),e.set("after--scope","$selector::after {$body}"),e.set("even--scope","$selector:nth-child(even) {$body}"),e.set("odd--scope","$selector:nth-child(odd) {$body}"),e.set("first--scope","$selector:first-child {$body}"),e.set("last--scope","$selector:last-child {$body}"),e.set("first-letter--scope","$selector::first-letter {$body}"),e.set("first-line--scope","$selector::first-line {$body}"),e.set("dark--scope","@media(prefers-color-scheme: dark) {$selector {$body}}"),e.set("light--scope","@media(prefers-color-scheme: light) {$selector {$body}}"),e.set("landscape--scope","@media(orientation: landscape) {$selector {$body}}"),e.set("portrait--scope","@media(orientation: portrait) {$selector {$body}}"),e.set("motion-reduce--scope","@media(prefers-reduced-motion: reduce) {$selector {$body}}"),e.set("motion-safe--scope","@media(prefers-reduced-motion: no-preference) {$selector {$body}}")}getComputedStyle(){return null===this.styles&&(this.styles=window.getComputedStyle(document.documentElement)),this.styles}getPropertyValue(e){if(this.cache.has(e))return this.cache.get(e);const t=e;e="--"+e;let r=this.getComputedStyle().getPropertyValue(e).trim();return r.startsWith('"')&&r.endsWith('"')&&(r=r.substring(1,r.length-1).trim()),this.cache.set(t,r),r}},T=new Map,U=/\$\{([0-9]+)(?:=([^}]+))?}/g,Z=(e,...t)=>V.getPropertyValue(e+"--mixin").replace(U,((e,r,o)=>t[parseInt(r)]||o||""));function W(e,t){if(null==t||""===t)return null;const r=[];for(const{name:o,args:i}of function*(e){for(let t of e.split(";")){if(t=t.trim(),""===t)continue;const e=t.indexOf(":");if(-1===e)yield{name:t,args:[]};else{const r=t.substr(0,e),o=t.substr(e+1).split(_).map((e=>e.trim()));yield{name:r,args:o}}}}(t))if(T.has(o)){const t=T.get(o);r.push(t(e,...i))}else r.push(Z(o,...i));return N(r)}T.set("mixin",(function(e,...t){return t.map((e=>V.getPropertyValue(e+"--mixin"))).filter((e=>""!==e)).join(";")})),T.set("space-x",(function(e,...t){const r=t[0]||"0";return"true"===t[1]?`sibling!mr:${r}`:`sibling!ml:${r}`})),T.set("space-y",(function(e,...t){const r=t[0]||"0";return"true"===t[1]?`sibling!mb:${r}`:`sibling!mt:${r}`})),T.set("grid",(function(e,...t){return"grid; l1!wb:break-all; l2!max-w:100%; child!justify-self:normal; child!align-self:normal"})),T.set("stack",(function(e,...t){return'grid; grid-cols:minmax(0,1fr); grid-rows:minmax(0,1fr); grid-template-areas:"stackarea"; l1!grid-area:stackarea; w:100%; h:100%'})),T.set("sr-only",(function(e,...t){return"true"!==(t[0]||"true")?"static; w:auto; h:auto; p:0; m:0; ws:normal; overflow:visible; clip:auto":"absolute; w:1px; h:1px; p:0; m:-1px; ws:nowrap; border-width:0; overflow:hidden; clip:rect(0, 0, 0, 0)"})),T.set("container",(function(e,...t){const{mode:r,settings:o}=e.breakpoints;return`px: 1rem; mx:auto; max-w:${"desktop-first"===r?o.xl:"100%"}; sm|max-w:${o.sm}; md|max-w:${o.md}; lg|max-w:${o.lg}`}));const _=/\s*,\s*(?![^(]*\))/gm;const B="x-apply",F="x-style";let H=null,J=null;const X=new WeakMap;function q(e,t){if(X.has(e))return;X.set(e,null);const r=e.attributes.getNamedItem(F),o=e.attributes.getNamedItem(B);let i="";o&&(i=W(t.userSettings,o.value),""!==i&&(X.set(e,i),i+=";")),r&&(i+=r.value),""!==i&&t.handleStyleChange(e,null,i),function(e,t){null===J&&(J=new MutationObserver((function(e){for(const r of e){const e=r.target,o=e.getAttribute(r.attributeName);switch(r.attributeName){case F:D(t,e,r.oldValue,o);break;case B:G(t,e,o)}}}))),J.observe(e,{attributes:!0,attributeOldValue:!0,childList:!0,attributeFilter:[F,B]})}(e,t);for(let r=e.firstElementChild;null!=r;r=r.nextElementSibling)q(r,t)}function G(e,t,r){let o=X.get(t)||null;if(null!=r&&(r=W(e.userSettings,r)),X.set(t,r),t.hasAttribute(F)){const e=t.getAttribute(F);null==o?o=e:o+=";"+e,null==r?r=e:r+=";"+e}e.handleStyleChange(t,o,r)}function D(e,t,r,o){const i=X.get(t)||null;null!=i&&(r=null==r?i:i+";"+r,o=null==o?i:i+";"+o),e.handleStyleChange(t,r,o)}const Q=/@([a-zA-Z0-9\-_]+)/g,Y=/\$(selector|body|class|value|property|state|variants|var)/g;class ee{constructor(e,t,r){this.style=t,this.settings=e,this.tracker=r,this.mediaSettings=e.breakpoints.settings,this.desktopMode="desktop-first"===e.breakpoints.mode,this.rules=[],this.padding=t.cssRules.length}get userSettings(){return this.settings}handleStyleChange(e,t,r){if(null===r)return this.handleStyleRemoved(e,t);const o=this.getStyleEntries(r),i=e.hasAttribute("class")?e.getAttribute("class").split(" "):[];if(null!==t)for(const{name:r,property:n,entry:s}of E(t))if(!o.has(r)){const t=i.indexOf(s);t>=0&&i.splice(t,1),e.style.removeProperty(n)}for(const t of o.values()){const{entry:r,property:o,hash:n,value:s}=t;i.indexOf(r)<0&&i.push(r),this.tracker.has(n)||this.generateCSS(t),e.style.setProperty(o,s)}e.setAttribute("class",i.join(" "))}handleStyleRemoved(e,t){const r=e.hasAttribute("class")?e.getAttribute("class").split(" "):[];for(const{property:o,entry:i}of E(t)){const t=r.indexOf(i);t>=0&&r.splice(t,1),e.style.removeProperty(o)}e.setAttribute("class",r.join(" "))}extract(e,t=null){var r;const o=null===(r=K.exec(e))||void 0===r?void 0:r.groups;if(!o||!o.property)return[];const i=x.indexOf(o.media||"all"),n=d.indexOf(o.state||"normal");if(i<0||n<0)return[];let s=o.property;const a=s,l=this.settings.scopes;m.hasOwnProperty(s)&&(s=m[s],"function"==typeof s&&(s=s(t))),Array.isArray(s)||(s=[s]),null===t&&(t=u[a]||""),w.hasOwnProperty(a)&&(t=w[a](t,a,i,n)),t=Array.isArray(t)?t.map((e=>e.replace(Q,"var(--$1)"))):Array(s.length).fill(t.replace(Q,"var(--$1)"));const c=[],g=d.length;let f=-1;for(const e of s){f++;const r=p.indexOf(e);if(r<0)continue;const s=o.scope||"",a=(r*g+i)*g+n,d=a.toString(16)+(s?`-${s}`:""),x=1e5*l.indexOf(s);c.push({name:(o.media?o.media+"|":"")+(s?s+"!":"")+e+(o.state?"."+o.state:""),property:P+d,entry:"x#"+d,value:t[f],media:o.media||"",state:o.state||"",cssProperty:e,hash:d,scope:s,rank:x<0?-1:a+x})}return c}getStyleEntries(e,t=!0){const r=new Map;for(let o of e.split(";")){if(o=o.trim(),""===o)continue;let e=null;const i=o.indexOf(":");i<0?o=o.trim():(e=t?o.substr(i+1):null,o=o.substr(0,i).trim());for(const t of this.extract(o,e))r.set(t.name,t)}return r}generateCSS(e){const{tracker:t,mediaSettings:r,desktopMode:o,style:i}=this,{hash:n,media:s,state:a,cssProperty:l,property:p,scope:d,rank:x}=e,m=""!==s;if(t.add(n),x<0)return;let u="";m&&(u+=o?`@media only screen and (max-width: ${r[s]}) {`:`@media only screen and (min-width: ${r[s]}) {`);let g=c[l],f="";if(g)for(let e=0,t=g.length;e<t;e++)f+=`${g[e]}:var(${p}) !important;`;if(d){const e=V.getPropertyValue(d+"--scope");if(""===e)return;u+=e.replace(Y,((e,t)=>{switch(t){case"selector":return`.x\\#${n}${a?":"+a:""}`;case"body":return f+l+": var("+p+") !important";case"variants":return f;case"property":return l;case"value":return`var(${p})`;case"class":return`.x\\#${n}`;case"state":return a?":"+a:"";case"var":return p}return t}))}else u+=`.x\\#${n}${a?":"+a:""}{${f}${l}: var(${p}) !important}`;m&&(u+="}");const b=this.getRuleIndex(x);this.rules.splice(b,0,x);try{i.insertRule(u,this.padding+b)}catch(e){console.log("Unsupported rule:",u),this.rules.splice(b,1)}}getRuleIndex(e){const{rules:t}=this;for(let r=0,o=t.length;r<o;r++)if(e<t[r])return r;return t.length}}function te(e){const t=function(e){const t=void 0===e.enabled||"true"===e.enabled,r=void 0!==e.generate&&"true"===e.generate,o=void 0===e.constructable||"true"===e.constructable,i=e.mode||"mobile-first",n="desktop-first"===i,s=void 0===e.cache?null:e.cache,a=void 0===e.cacheKey?"opis-assembler-cache":e.cacheKey,l=void 0===e.scopes?[]:L(e.scopes),p=["","text-clip","selection","placeholder","before","after","first-letter","first-line","l1","l2","sibling","child","even","odd","first","last","dark","light","landscape","portrait","motion-reduce","motion-safe"];for(let e=0,t=l.length;e<t;e++){const t=l[e];p.indexOf(t)<0&&p.push(t)}let c=["xs","sm","md","lg","xl"];if(n?(c.pop(),c.reverse()):c.shift(),e.breakpoints){const t=L(e.breakpoints.toLowerCase());c=t.length?c.filter((e=>-1!==t.indexOf(e))):[]}c.unshift("all");const d=void 0===e.states?["normal","hover"]:L(e.states.toLowerCase());return-1===d.indexOf("normal")&&d.unshift("normal"),{enabled:t,generate:r,constructable:o,cache:s,cacheKey:a,scopes:p,breakpoints:{mode:i,settings:{xs:e.breakpointXs||"512px",sm:e.breakpointSm||(n?"768px":"512px"),md:e.breakpointMd||(n?"1024px":"768px"),lg:e.breakpointLg||(n?"1280px":"1024px"),xl:e.breakpointXl||"1280px"},enabled:c},states:{enabled:d}}}(e||document.currentScript.dataset);if(!t.enabled)return!1;let r,o;if(t.constructable&&document.adoptedStyleSheets){if(o=new CSSStyleSheet,t.generate){const e=R(t);r=e.tracker,o.replaceSync(e.content)}else r=new Set,o.replaceSync(I());document.adoptedStyleSheets=[o]}else{const e=document.createElement("style"),i=R(t);r=i.tracker,e.id="opis-assembler-css",e.textContent=i.content,document.currentScript.parentElement.insertBefore(e,document.currentScript),o=e.sheet}return function(e,t){null===H&&(H=new MutationObserver((function(e){for(let r=0,o=e.length;r<o;r++){const o=e[r].addedNodes;for(let e=0;e<o.length;e++)o[e]instanceof HTMLElement&&q(o[e],t)}}))),H.observe(e,{childList:!0,subtree:!0})}(document,new ee(t,o,r)),!0}"undefined"!=typeof window&&te(),e.getClasses=function(e){const t=[];for(const{entry:r}of E(e))t.push(r);return t.join(" ")},e.init=te,e.registerMixin=function(e,t){T.set(e,t)},e.style=N,Object.defineProperty(e,"__esModule",{value:!0})}));
