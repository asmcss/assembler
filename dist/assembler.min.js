!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).Opis=t.Opis||{},t.Opis.Assembler={}))}(this,(function(t){"use strict";const e=["align-content","align-items","align-self","animation","appearance","backdrop-filter","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-position","background-repeat","background-size","border","border-bottom","border-bottom-left-radius","border-bottom-right-radius","border-collapse","border-left","border-radius","border-right","border-top","border-top-left-radius","border-top-right-radius","bottom","box-shadow","box-sizing","clear","color","column-gap","cursor","display","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","font-family","font-size","font-style","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","height","justify-content","justify-items","justify-self","left","letter-spacing","line-height","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","max-height","max-width","min-height","min-width","object-fit","object-position","opacity","order","outline","outline-offset","overflow","overflow-wrap","overflow-x","overflow-y","overscroll-behavior","overscroll-behavior-x","overscroll-behavior-y","padding","padding-bottom","padding-left","padding-right","padding-top","place-content","place-items","place-self","pointer-events","position","resize","right","row-gap","table-layout","text-align","text-decoration","text-decoration-style","text-fill-color","text-overflow","text-transform","top","transform","transform-box","transform-origin","transform-style","transition","user-select","vertical-align","visibility","white-space","width","word-break","z-index"],r={animation:["-webkit-animation"],appearance:["-webkit-appearance","-moz-appearance"],"backdrop-filter":["-webkit-backdrop-filter"],"column-gap":["-moz-column-gap"],"user-select":["-webkit-user-select","-moz-user-select"]},o={backdrop:"backdrop-filter",bg:"background","bg-attachment":"background-attachment","bg-blend":"background-blend-mode","bg-clip":"background-clip","bg-color":"background-color","bg-image":"background-image","bg-position":"background-position","bg-repeat":"background-repeat","bg-size":"background-size","break-normal":["overflow-wrap","word-break"],radius:"border-radius","radius-top":["border-top-left-radius","border-top-right-radius"],"radius-bottom":["border-bottom-left-radius","border-bottom-right-radius"],"radius-left":["border-bottom-left-radius","border-top-left-radius"],"radius-right":["border-bottom-right-radius","border-top-right-radius"],"radius-bl":"border-bottom-left-radius","radius-br":"border-bottom-right-radius","radius-tl":"border-top-left-radius","radius-tr":"border-top-right-radius",m:"margin",mt:"margin-top",mb:"margin-bottom",ml:"margin-left",mr:"margin-right",mx:["margin-left","margin-right"],my:["margin-top","margin-bottom"],p:"padding",pt:"padding-top",pb:"padding-bottom",pl:"padding-left",pr:"padding-right",px:["padding-left","padding-right"],py:["padding-top","padding-bottom"],"min-w":"min-width","max-w":"max-width","min-h":"min-height","max-h":"max-height",w:"width",h:"height",gradient:"background-image","radial-gradient":"background-image","conic-gradient":"background-image","flex-dir":"flex-direction","grid-rows":"grid-template-rows","grid-flow":"grid-auto-flow","row-start":"grid-row-start","row-span":"grid-row-end","grid-cols":"grid-template-columns","col-start":"grid-column-start","col-span":"grid-column-end","col-gap":"column-gap","auto-cols":"grid-auto-columns","auto-rows":"grid-auto-rows",e:"box-shadow",overscroll:"overscroll-behavior","overscroll-x":"overscroll-behavior-x","overscroll-y":"overscroll-behavior-y",inset:["top","bottom","left","right"],"inset-x":["left","right"],"inset-y":["top","bottom"],z:"z-index",decoration:"text-decoration","v-align":"vertical-align",ws:"whitespace",ring:"box-shadow",leading:"line-height",tracking:"letter-spacing"},i=["normal","link","visited","empty","placeholder-shown","default","checked","indeterminate","valid","invalid","required","optional","out-of-range","in-range","hover","focus","focus-within","focus-visible","active","read-only","read-write","disabled","enabled"],n=["all","xs","sm","md","lg","xl"],a={},l=t=>`repeat(${t}, minmax(0, 1fr))`,s=t=>`span ${t}`,d=t=>/^(xs|sm|md|lg|xl)$/.test(t)?"@border-radius-"+t:t,c={gradient:t=>`linear-gradient(${t})`,"radial-gradient":t=>`radial-gradient(${t})`,"conic-gradient":t=>`conic-gradient(${t})`,"grid-rows":l,"row-span":s,"grid-cols":l,"col-span":s,e:t=>/^[0-9]|1[0-9]|2[0-4]$/.test(t)?`@elevation-${t}`:t,ring:t=>`0 0 0 ${t}`,"font-size":t=>/^(xs|sm|base|lg|([2-6])?xl)$/.test(t)?"@font-size-"+t:t,leading:t=>/^(none|tight|snug|normal|relaxed|loose)$/.test(t)?"@line-height-"+t:t,tracking:t=>/^(tighter|tight|normal|wide|wider|widest)$/.test(t)?"@letter-spacing-"+t:t,radius:d,"radius-top":d,"radius-left":d,"radius-bottom":d,"radius-right":d,"radius-tl":d,"radius-bl":d,"radius-tr":d,"radius-br":d},g="_opis",u="--opis-",p=/@([a-zA-Z0-9\-_]+)/g,f=/^(?:(?<media>[a-z]{2})\|)?(?<property>[-a-z]+)(?:\.(?<state>[-a-z]+))?$/m,m="x-style";function b(t,e,r){if(null===r)return function(t,e){for(const{property:r}of w(e))t.style.removeProperty(r);t.removeAttribute(g)}(t,e);const o=x(r);if(null!==e)for(const{name:r,property:i}of w(e))o.has(r)||t.style.removeProperty(i);const i=[];for(const{property:e,entry:r,value:n}of o.values())i.push(r),t.style.setProperty(e,n);t.setAttribute(g,i.join(" "))}function h(t,r=null){var l;const s=null===(l=f.exec(t))||void 0===l?void 0:l.groups;if(!s||!s.property)return[];const d=n.indexOf(s.media||"all"),g=i.indexOf(s.state||"normal");if(d<0||g<0)return[];let m=s.property;const b=m;o.hasOwnProperty(m)&&(m=o[m]),Array.isArray(m)||(m=[m]),null===r&&(r=a[b]||""),c.hasOwnProperty(b)&&(r=c[b](r,b,d,g)),r=r.replace(p,"var(--$1)");const h=[],x=i.length;for(const t of m){const o=e.indexOf(t);if(o<0)continue;const i=((o*x+d)*x+g).toString(16);h.push({name:(s.media?s.media+"|":"")+t+(s.state?"."+s.state:""),property:u+i,entry:"x"+i,value:r})}return h}function x(t,e=!0){const r=new Map,o=t.split(";");for(let t of o){let o=null;if(t.indexOf(":")>0){const r=t.split(":");t=r.shift().trim(),o=e?r.join(":"):null}else t=t.trim();for(const e of h(t,o))r.set(e.name,e)}return r}function*w(t){var r;const a=i.length;for(let l of t.split(";")){const t=l.indexOf(":");l=t<0?l.trim():l.substr(0,t).trim();const s=null===(r=f.exec(l))||void 0===r?void 0:r.groups;if(!s||!s.property)continue;const d=n.indexOf(s.media||"all"),c=i.indexOf(s.state||"normal");if(d<0||c<0)continue;let g=s.property;o.hasOwnProperty(g)&&(g=o[g]),Array.isArray(g)||(g=[g]);for(const t of g){const r=e.indexOf(t);if(r<0)continue;const o=((r*a+d)*a+c).toString(16);yield{name:(s.media?s.media+"|":"")+t+(s.state?"."+s.state:""),property:u+o}}}}const y="opis-assembler-cache";function v(t,e=!0){const r=t.replace(/[,;]/g," ").split(/\s\s*/g).map((t=>t.trim())).filter((t=>""!==t));return e?r.filter(((t,e,r)=>r.indexOf(t)===e)):r}let k=null,O=null;const $=new WeakMap;function z(t,e=!0){if(e)for(let e=t.firstElementChild;null!=e;e=e.nextElementSibling)z(e,!0);if($.has(t))return;$.set(t,null);const r=t.attributes.getNamedItem(m);r&&b(t,null,r.value),function(t,e){null===O&&(O=new MutationObserver((function(t){for(const e of t){if(e.attributeName!==m)continue;const t=e.target,r=t.getAttribute(e.attributeName);b(t,e.oldValue,r)}}))),O.observe(t,e)}(t,{attributes:!0,attributeOldValue:!0,attributeFilter:[m]})}function S(t){const o=function(t){const e=void 0===t.enabled||"true"===t.enabled,r=t.mode||"desktop-first",o="desktop-first"===r,i=void 0===t.cache?null:t.cache;let n=["xs","sm","md","lg","xl"];if(o?(n.pop(),n.reverse()):n.shift(),t.breakpoints){const e=v(t.breakpoints.toLowerCase());n=e.length?n.filter((t=>-1!==e.indexOf(t))):[]}n.unshift("all");const a=void 0===t.states?["normal","hover","focus","active","disabled"]:v(t.states.toLowerCase());return{enabled:e,cache:i,breakpoints:{mode:r,settings:{xs:t.breakpointXs||(o?"512px":"0px"),sm:t.breakpointSm||(o?"768px":"512px"),md:t.breakpointMd||(o?"1024px":"768px"),lg:t.breakpointLg||(o?"1280px":"1024"),xl:t.breakpointXl||"1280px"},enabled:n},states:{enabled:a}}}(t||document.currentScript.dataset);if(!o.enabled)return!1;const a=document.createElement("style");return a.textContent=function(t){let o=null;if(t.cache){if(o=localStorage.getItem(y+":"+t.cache),null!==o)return o;const e=localStorage.getItem(y);null!==e&&localStorage.removeItem(y+":"+e),localStorage.setItem(y,t.cache)}else{const t=localStorage.getItem(y);null!==t&&(localStorage.removeItem(y+":"+t),localStorage.removeItem(y))}const a=i.length,l=[],s=t.breakpoints.enabled,d=t.breakpoints.settings,c="desktop-first"===t.breakpoints.mode,g=t.states.enabled;for(const t of s){const o=n.indexOf(t);if(o<0)continue;let s="";0!==o&&(s+=c?`@media only screen and (max-width: ${d[t]}) {`:`@media only screen and (min-width: ${d[t]}) {`);for(let t=0,n=e.length;t<n;t++){const n=e[t];for(const e of g){const l=i.indexOf(e);if(l<0)continue;const d=((t*a+o)*a+l).toString(16);let c=r[n],g="";if(c)for(let t=0,e=c.length;t<e;t++)g+=`${c[t]}:var(--opis-${d}) !important;`;s+=`[_opis~=x${d}]${l>0?":"+e:""}{${g}${n}:var(--opis-${d}) !important}`}}0!==o&&(s+="}"),l.push(s)}return o=l.join(""),t.cache&&(localStorage.setItem(y,t.cache),localStorage.setItem(y+":"+t.cache,o)),o}(o),document.currentScript.parentElement.insertBefore(a,document.currentScript),function(t,e){null===k&&(k=new MutationObserver((function(t){for(let e=0,r=t.length;e<r;e++){const r=t[e].addedNodes;for(let t=0;t<r.length;t++)r[t]instanceof HTMLElement&&z(r[t])}}))),k.observe(t,e)}(document,{childList:!0,subtree:!0}),!0}"undefined"!=typeof window&&S(),t.extract=h,t.init=S,t.parse=x,t.style=function t(...e){let r=[];for(const o of e)if("string"==typeof o)r.push(o.trim());else if(Array.isArray(o))r.push(t(...o));else for(const t in o)o.hasOwnProperty(t)&&r.push(t+":"+o[t]);return r.join("; ")},Object.defineProperty(t,"__esModule",{value:!0})}));
