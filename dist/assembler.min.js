!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).Opis=t.Opis||{},t.Opis.Assembler={}))}(this,(function(t){"use strict";const e=["align-content","align-items","align-self","animation","appearance","backdrop-filter","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-position","background-repeat","background-size","border","border-bottom","border-bottom-left-radius","border-bottom-right-radius","border-collapse","border-left","border-radius","border-right","border-top","border-top-left-radius","border-top-right-radius","bottom","box-shadow","box-sizing","clear","color","column-gap","cursor","display","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","font-family","font-size","font-style","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","height","justify-content","justify-items","justify-self","left","letter-spacing","line-height","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","max-height","max-width","min-height","min-width","object-fit","object-position","opacity","order","outline","outline-offset","overflow","overflow-wrap","overflow-x","overflow-y","overscroll-behavior","overscroll-behavior-x","overscroll-behavior-y","padding","padding-bottom","padding-left","padding-right","padding-top","place-content","place-items","place-self","pointer-events","position","resize","right","row-gap","table-layout","text-align","text-decoration","text-decoration-style","text-fill-color","text-overflow","text-transform","top","transform","transform-box","transform-origin","transform-style","transition","user-select","vertical-align","visibility","white-space","width","word-break","z-index"],r={animation:["-webkit-animation"],appearance:["-webkit-appearance","-moz-appearance"],"backdrop-filter":["-webkit-backdrop-filter"],"column-gap":["-moz-column-gap"],"user-select":["-webkit-user-select","-moz-user-select"]},o={backdrop:"backdrop-filter",bg:"background","bg-attachment":"background-attachment","bg-blend":"background-blend-mode","bg-clip":"background-clip","bg-color":"background-color","bg-image":"background-image","bg-position":"background-position","bg-repeat":"background-repeat","bg-size":"background-size",radius:"border-radius","radius-top":["border-top-left-radius","border-top-right-radius"],"radius-bottom":["border-bottom-left-radius","border-bottom-right-radius"],"radius-left":["border-bottom-left-radius","border-top-left-radius"],"radius-right":["border-bottom-right-radius","border-top-right-radius"],"radius-bl":"border-bottom-left-radius","radius-br":"border-bottom-right-radius","radius-tl":"border-top-left-radius","radius-tr":"border-top-right-radius",m:"margin",mt:"margin-top",mb:"margin-bottom",ml:"margin-left",mr:"margin-right",mx:["margin-left","margin-right"],my:["margin-top","margin-bottom"],p:"padding",pt:"padding-top",pb:"padding-bottom",pl:"padding-left",pr:"padding-right",px:["padding-left","padding-right"],py:["padding-top","padding-bottom"],"min-w":"min-width","max-w":"max-width","min-h":"min-height","max-h":"max-height",w:"width",h:"height",gradient:"background-image","radial-gradient":"background-image","conic-gradient":"background-image","flex-dir":"flex-direction","grid-rows":"grid-template-rows","grid-flow":"grid-auto-flow","row-start":"grid-row-start","row-span":"grid-row-end","grid-cols":"grid-template-columns","col-start":"grid-column-start","col-span":"grid-column-end","col-gap":"column-gap","auto-cols":"grid-auto-columns","auto-rows":"grid-auto-rows",e:"box-shadow",overscroll:"overscroll-behavior","overscroll-x":"overscroll-behavior-x","overscroll-y":"overscroll-behavior-y",inset:["top","bottom","left","right"],"inset-x":["left","right"],"inset-y":["top","bottom"],z:"z-index",decoration:"text-decoration","v-align":"vertical-align",ws:"whitespace",ring:"box-shadow",leading:"line-height",tracking:"letter-spacing"},i=["normal","link","visited","empty","placeholder-shown","default","checked","indeterminate","valid","invalid","required","optional","out-of-range","in-range","hover","focus","focus-within","focus-visible","active","read-only","read-write","disabled","enabled"],n=["all","xs","sm","md","lg","xl"],a=t=>`repeat(${t}, minmax(0, 1fr))`,s=t=>`span ${t}`,l=t=>/^(xs|sm|md|lg|xl)$/.test(t)?"@border-radius-"+t:t,d={gradient:t=>`linear-gradient(${t})`,"radial-gradient":t=>`radial-gradient(${t})`,"conic-gradient":t=>`conic-gradient(${t})`,"grid-rows":a,"row-span":s,"grid-cols":a,"col-span":s,e:t=>/^[0-9]|1[0-9]|2[0-4]$/.test(t)?`@elevation-${t}`:t,ring:t=>`0 0 0 ${t}`,"font-size":t=>/^(xs|sm|base|lg|([2-6])?xl)$/.test(t)?"@font-size-"+t:t,leading:t=>/^(none|tight|snug|normal|relaxed|loose)$/.test(t)?"@line-height-"+t:t,tracking:t=>/^(tighter|tight|normal|wide|wider|widest)$/.test(t)?"@letter-spacing-"+t:t,radius:l,"radius-top":l,"radius-left":l,"radius-bottom":l,"radius-right":l,"radius-tl":l,"radius-bl":l,"radius-tr":l,"radius-br":l},c="_opis",g=/@([a-zA-Z0-9\-_]+)/g,u=/&[a-zA-Z0-9_\-]+/g,p=/^(?:(?<media>[a-z]{2})\|)?(?<property>[-a-z]+)(?:\.(?<state>[-a-z]+))?$/m,m=/\${\s*(?<index>\d+)\s*(?:=(?<default>[^}]*))?}/g,f=/^(?<name>[a-z][a-z0-9_\-]*)(?:\s*\((?<args>.*)?\))?$/i,b="x-style",h="x-apply",x=[b,h],w="opis-assembler-cache",v=new WeakMap,y=new class{constructor(){this.styles=null}getComputedStyle(){return null===this.styles&&(this.styles=window.getComputedStyle(document.documentElement)),this.styles}getPropertyValue(t){let e=this.getComputedStyle().getPropertyValue(t).trim();return e.startsWith('"')&&e.endsWith('"')&&(e=e.substring(1,e.length-1)),e}},k=new MutationObserver((function(t){for(let e=0,r=t.length;e<r;e++){const r=t[e].addedNodes;for(let t=0;t<r.length;t++)r[t]instanceof HTMLElement&&z(r[t])}})),$=new MutationObserver((function(t){for(const e of t){if(e.attributeName!==b)continue;const t=e.target,r=t.getAttribute(e.attributeName);S(t,e.oldValue,r)}}));function z(t,e=!0){if(e)for(let e=t.firstElementChild;null!=e;e=e.nextElementSibling)z(e,!0);if(v.has(t))return;v.set(t,null);const r=t.attributes.getNamedItem(h),o=t.attributes.getNamedItem(b);r&&function(t,e){var r;const o=e.split(";"),i=t.hasAttribute(c)?t.getAttribute(c).split(" "):[];for(let e=0,n=o.length;e<n;e++){const n=o[e].trim();if(""===n)continue;const a=null===(r=f.exec(n))||void 0===r?void 0:r.groups;if(!a||!a.name)continue;let s=y.getPropertyValue("--"+a.name);a.args&&(s=A(s,j(P(a.args))));for(const e of I(s).values()){const{property:r,entry:o,value:n}=e;i.indexOf(o)<0&&i.push(o),t.style.setProperty(r,n)}}t.setAttribute(c,i.join(" "))}(t,r.value),o&&S(t,null,o.value),$.observe(t,{attributes:!0,attributeOldValue:!0,attributeFilter:x})}function S(t,e,r){if(null===r)return function(t,e){for(const{property:r}of I(e,!1).values())t.style.removeProperty(r);t.removeAttribute(c)}(t,e);const o=null===e?new Map:I(e,!1),i=I(r);for(const{name:e,property:r}of o.values())i.has(e)||t.style.removeProperty(r);const n=[];for(const{property:e,entry:r,value:o}of i.values())n.push(r),t.style.setProperty(e,o);t.setAttribute(c,n.join(" "))}function O(t,r=null){var a;const s=null===(a=p.exec(t))||void 0===a?void 0:a.groups;if(!s||!s.property)return[];const l=n.indexOf(s.media||"all"),c=i.indexOf(s.state||"normal");if(l<0||c<0)return[];let u=s.property;const m=u;o.hasOwnProperty(u)&&(u=o[u]),Array.isArray(u)||(u=[u]),null!==r&&(d.hasOwnProperty(m)&&(r=d[m](r,m,l,c)),r=P(r).replace(g,"var(--$1)"));const f=[],b=i.length;for(const t of u){const o=e.indexOf(t);if(o<0)continue;const i=((o*b+l)*b+c).toString(16);f.push({name:(s.media?s.media+"|":"")+t+(s.state?"."+s.state:""),property:"--opis-"+i,entry:"x"+i,value:r})}return f}function I(t,e=!0){const r=new Map,o=t.split(";");for(let t of o){if(t.indexOf(":")<0)continue;const o=t.split(":");t=o.shift().trim();const i=e?o.join(":"):null;for(const e of O(t,i))r.set(e.name,e)}return r}function j(t){const e=[],r=t.length;let o=!0,i=0,n=0;for(let a=0;a<r;a++){const r=t[a];o?","===r?(e.push(t.substring(i,a).trim()),i=a+1):"("===r&&(n=1,o=!1):"("===r?n++:")"===r&&0==--n&&(o=!0)}return i<r&&e.push(t.substring(i,r).trim()),e}function A(t,e){const r=e.length;return 0===r?t.replace(m,(()=>"")):t.replace(m,((t,...o)=>{const i=parseInt(o[0]),n=o[1]||"";return i<0||i>=r||""===e[i]?n:e[i]}))}function P(t){let e;for(;null!==(e=u.exec(t));){const r=e[0],o=t.substring(0,e.index),i=t.substring(e.index+r.length);t=o+y.getPropertyValue(r.replace("&","--"))+i}return t}function M(t,e=!0){const r=t.replace(/[,;]/g," ").split(/\s\s*/g).map((t=>t.trim())).filter((t=>""!==t));return e?r.filter(((t,e,r)=>r.indexOf(t)===e)):r}const C=function(){const t=document.currentScript.dataset,e=void 0===t.enabled||"true"===t.enabled,r=t.mode||"desktop-first",o="desktop-first"===r,i=void 0===t.cache?null:t.cache;let n=["xs","sm","md","lg","xl"];if(o?(n.pop(),n.reverse()):n.shift(),t.breakpoints){const e=M(t.breakpoints.toLowerCase());n=e.length?n.filter((t=>-1!==e.indexOf(t))):[]}n.unshift("all");const a=void 0===t.states?["normal","hover","focus","active","disabled"]:M(t.states.toLowerCase());return{enabled:e,cache:i,breakpoints:{mode:r,settings:{xs:t.breakpointXs||(o?"512px":"0px"),sm:t.breakpointSm||(o?"768px":"512px"),md:t.breakpointMd||(o?"1024px":"768px"),lg:t.breakpointLg||(o?"1280px":"1024"),xl:t.breakpointXl||"1280px"},enabled:n},states:{enabled:a}}}();if(C.enabled){const t=document.createElement("style");t.textContent=function(t){let o=null;if(t.cache){if(o=localStorage.getItem(w+":"+t.cache),null!==o)return o;const e=localStorage.getItem(w);null!==e&&localStorage.removeItem(w+":"+e),localStorage.setItem(w,t.cache)}else{const t=localStorage.getItem(w);null!==t&&(localStorage.removeItem(w+":"+t),localStorage.removeItem(w))}const a=i.length,s=[],l=t.breakpoints.enabled,d=t.breakpoints.settings,c="desktop-first"===t.breakpoints.mode,g=t.states.enabled;for(const t of l){const o=n.indexOf(t);if(o<0)continue;let l="";0!==o&&(l+=c?`@media only screen and (max-width: ${d[t]}) {`:`@media only screen and (min-width: ${d[t]}) {`);for(let t=0,n=e.length;t<n;t++){const n=e[t];for(const e of g){const s=i.indexOf(e);if(s<0)continue;const d=((t*a+o)*a+s).toString(16);let c=r[n],g="";if(c)for(let t=0,e=c.length;t<e;t++)g+=`${c[t]}:var(--opis-${d}) !important;`;l+=`[_opis~=x${d}]${s>0?":"+e:""}{${g}${n}:var(--opis-${d}) !important}`}}0!==o&&(l+="}"),s.push(l)}return o=s.join(""),t.cache&&(localStorage.setItem("opis-assembler-cache",t.cache),localStorage.setItem("opis-assembler-cache:"+t.cache,o)),o}(C),document.currentScript.parentElement.insertBefore(t,document.currentScript),k.observe(document,{childList:!0,subtree:!0})}t.extract=O,t.parse=I,Object.defineProperty(t,"__esModule",{value:!0})}));
